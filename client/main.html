<head>
  <title>QR_test</title>
</head>

<body>
  <h1>App currently loading...</h1>

  {{#if currentUser}}
    {{> accueil}}
  {{else}}
    <p>Vous pouvez vous connecter avec bla@bla.ch / 123456, ou faire un nouveau compte, mettons le même mot de passe partout pour l'instant :)</p>
    {{> atForm}}
  {{/if}}
  
</body>


<!--Template de ce que voit l'utilisateur une fois connecté-->
<template name="accueil">
  <button class="js-logout">Se déconnecter</button>
  <hr>
  {{> form_new_post}}
  <hr>
  {{>list_post}}
</template>


<!--Template qui crée un post dans un formulaire-->
<template name="form_new_post">
<div class="container">
  <form class="js-new-post">
    <input class ="form-control" type="text" name="title" placeholder="Titre du post"> 
    <textarea class ="form-control" name="text"  cols="30" rows="10"></textarea>
    <button class = "btn btn-primary" type="submit" name="bouton"> Poster</button>
  </form>
</div>
</template>
<!-- permet d'afficher les posts en attendant d'avoir le routing -->
<template name="list_post">
  <h2>Les Posts</h2>
  <div class="card-columns">
{{#each post in posts}}
<!--on crée la variable post pour être utilisée dans le temlate single_post-->
 {{>single_post post=post}}
{{/each}}
</div>
</template>

<template name="single_post">

  <div class="card w-1" >
    <h5 class="card-header">{{post.title}}</h5>
    <div class="card-body">
      <p class="card-text" style="white-space:pre">{{post.text}}</p>
      <div class="card-footer"> {{post.createdAt}}</div>
    </div>
  </div>

</template>